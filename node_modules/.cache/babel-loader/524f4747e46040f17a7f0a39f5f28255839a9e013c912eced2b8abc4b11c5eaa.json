{"ast":null,"code":"export default {\n  data() {\n    return {\n      form: {\n        name: '',\n        JavaList: [],\n        JarList: []\n      },\n      rules: {\n        name: [{\n          required: true,\n          message: '请输入Java应用程序名称',\n          trigger: 'blur'\n        }, {\n          min: 3,\n          max: 20,\n          message: '长度在3到20个字符',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  methods: {\n    beforeZipUpload(file, fileList) {\n      const type = file.type === 'zip' || file.type === 'rar';\n      console.log(file);\n      const size = file.size / 1024 / 1024 / 1024 < 1; // 1G\n\n      if (!type) {\n        this.$message.error('上传文件只能是 zip 或 RAR 格式!');\n      } else if (!size) {\n        this.$message.error('上传文件大小必须小于1G');\n      }\n      return type && size;\n    },\n    handleRemoveZip(file, fileList) {\n      this.$message.info(`删除${file.name}文件`);\n    },\n    handleExceedZip(files, fileList) {\n      this.$message.warning(`只能上传一个Jar包, 本次上传了${files.length}个文件, 总共${files.length + fileList.length}`);\n    },\n    handleSuccessZip() {}\n  }\n};","map":{"version":3,"names":["data","form","name","JavaList","JarList","rules","required","message","trigger","min","max","methods","beforeZipUpload","file","fileList","type","console","log","size","$message","error","handleRemoveZip","info","handleExceedZip","files","warning","length","handleSuccessZip"],"sources":["src/components/Upload.vue"],"sourcesContent":["<template>\n    <div>\n        <br>\n        <el-form ref=\"form\" :model=\"form\" label-width=\"150px\" label-position=\"right\">\n            <el-form-item label=\"输入Java程序名称\" prop=\"name\">\n                <el-input v-model=\"form.name\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"上传Java程序压缩包\" prop=\"zip\">\n                <el-upload\n                    class=\"upload-zip\"\n                    action=\"https://jsonplaceholder.typicode.com/posts/\"\n                    :limit=\"1\"\n                    :show-file-list=\"true\"\n                    :file-list=\"JavaList\"\n                    :before-upload=\"beforeZipUpload\"\n                    :on-remove=\"handleRemoveZip\"\n                    :on-exceed=\"handleExceedZip\"\n                    :on-success=\"handleSuccessZip\"\n                    >\n                    <el-button size=\"small\" type=\"primary\">点击上传</el-button>\n                    <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png文件, 且不超过500kb</div>\n                </el-upload>\n            </el-form-item>\n            <el-form-item label=\"上传Jar包\" prop=\"jar\">\n                <!-- <el-upload\n                    class=\"upload-jar\"\n                    action=\"https://jsonplaceholder.typicode.com/posts/\"\n                    :on-preview=\"handlePreview\"\n                    :on-remove=\"handleRemove\"\n                    :before-remove=\"beforeRemove\"\n                    :on-exceed=\"handleExceed\"\n                    :file-list=\"JarList\">\n                    <el-button size=\"small\" type=\"primary\">点击上传</el-button>\n                    <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png文件，且不超过500kb</div>\n                </el-upload> -->\n            </el-form-item>\n        </el-form>\n    </div>\n</template>\n\n<script>\nexport default {\n    data() {\n      return {\n        form: {\n            name: '',\n            JavaList: [],\n            JarList: [],\n        },\n        rules: {\n            name: [\n                { required: true, message: '请输入Java应用程序名称', trigger: 'blur' },\n                { min: 3, max: 20, message: '长度在3到20个字符', trigger: 'blur' }\n            ],\n        }\n      }\n    },\n    methods: {\n        beforeZipUpload(file, fileList) {\n            const type = file.type === 'zip' || file.type === 'rar'\n            console.log(file)\n            const size = file.size / 1024 / 1024 / 1024 < 1 // 1G\n            \n            if(!type) {\n                this.$message.error('上传文件只能是 zip 或 RAR 格式!');\n            } else if(!size) {\n                this.$message.error('上传文件大小必须小于1G');\n            }\n            return type && size\n        },\n        handleRemoveZip(file, fileList) {\n            this.$message.info(`删除${file.name}文件`)\n        },\n        handleExceedZip(files, fileList) {\n            this.$message.warning(`只能上传一个Jar包, 本次上传了${files.length}个文件, 总共${files.length + fileList.length}`)\n        },\n        handleSuccessZip() {\n\n        },\n    }\n}\n</script>\n\n<style lang=\"less\" scoped>\n\n</style>"],"mappings":"AAyCA;EACAA,KAAA;IACA;MACAC,IAAA;QACAC,IAAA;QACAC,QAAA;QACAC,OAAA;MACA;MACAC,KAAA;QACAH,IAAA,GACA;UAAAI,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,GACA;UAAAC,GAAA;UAAAC,GAAA;UAAAH,OAAA;UAAAC,OAAA;QAAA;MAEA;IACA;EACA;EACAG,OAAA;IACAC,gBAAAC,IAAA,EAAAC,QAAA;MACA,MAAAC,IAAA,GAAAF,IAAA,CAAAE,IAAA,cAAAF,IAAA,CAAAE,IAAA;MACAC,OAAA,CAAAC,GAAA,CAAAJ,IAAA;MACA,MAAAK,IAAA,GAAAL,IAAA,CAAAK,IAAA;;MAEA,KAAAH,IAAA;QACA,KAAAI,QAAA,CAAAC,KAAA;MACA,YAAAF,IAAA;QACA,KAAAC,QAAA,CAAAC,KAAA;MACA;MACA,OAAAL,IAAA,IAAAG,IAAA;IACA;IACAG,gBAAAR,IAAA,EAAAC,QAAA;MACA,KAAAK,QAAA,CAAAG,IAAA,MAAAT,IAAA,CAAAX,IAAA;IACA;IACAqB,gBAAAC,KAAA,EAAAV,QAAA;MACA,KAAAK,QAAA,CAAAM,OAAA,qBAAAD,KAAA,CAAAE,MAAA,UAAAF,KAAA,CAAAE,MAAA,GAAAZ,QAAA,CAAAY,MAAA;IACA;IACAC,iBAAA,GAEA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}